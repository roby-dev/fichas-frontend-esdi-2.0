<div class="pointer-events-none fixed inset-0 z-[9999] px-4 py-6 sm:p-6">
  <!-- top-right -->
  <div *ngFor="let pos of positions" class="absolute" [ngClass]="positionClasses[pos]">
    <div class="flex flex-col gap-3">
      <ng-container *ngFor="let t of toastsByPosition(pos)()">
        <div
          class="pointer-events-auto max-w-sm w-full bg-white/95 dark:bg-slate-800/95 rounded-lg shadow-lg ring-1 ring-black/5 overflow-hidden transform transition-all duration-200"
          [ngClass]="typeClasses[t.type]"
        >
          <div class="flex p-3 gap-3 items-start">
            <div class="flex-shrink-0">
              <svg *ngIf="t.type === 'success'" class="w-6 h-6 text-green-600" viewBox="0 0 24 24" fill="none">
                <path
                  d="M5 13l4 4L19 7"
                  stroke="currentColor"
                  stroke-width="2"
                  stroke-linecap="round"
                  stroke-linejoin="round"
                />
              </svg>
              <svg *ngIf="t.type === 'error'" class="w-6 h-6 text-red-600" viewBox="0 0 24 24" fill="none">
                <path
                  d="M6 18L18 6M6 6l12 12"
                  stroke="currentColor"
                  stroke-width="2"
                  stroke-linecap="round"
                  stroke-linejoin="round"
                />
              </svg>
              <svg *ngIf="t.type === 'info'" class="w-6 h-6 text-blue-600" viewBox="0 0 24 24" fill="none">
                <path
                  d="M12 16v-4M12 8h.01"
                  stroke="currentColor"
                  stroke-width="2"
                  stroke-linecap="round"
                  stroke-linejoin="round"
                />
              </svg>
              <svg *ngIf="t.type === 'warn'" class="w-6 h-6 text-amber-600" viewBox="0 0 24 24" fill="none">
                <path
                  d="M10.29 3.86L1.82 18a2 2 0 0 0 1.71 3h16.94a2 2 0 0 0 1.71-3L13.71 3.86a2 2 0 0 0-3.42 0z"
                  stroke="currentColor"
                  stroke-width="0"
                />
              </svg>
            </div>

            <div class="flex-1">
              <div *ngIf="t.title" class="font-semibold text-sm text-slate-900 dark:text-slate-100">{{ t.title }}</div>
              <div class="text-sm text-slate-700 dark:text-slate-200 mt-1 break-words">{{ t.message }}</div>
            </div>

            <div class="ml-2 flex items-start">
              <button *ngIf="t.closable" (click)="close(t.id)" class="text-slate-500 hover:text-slate-700 p-1">
                <span class="sr-only">Cerrar</span>
                <svg class="w-5 h-5" viewBox="0 0 24 24" fill="none">
                  <path
                    d="M6 18L18 6M6 6l12 12"
                    stroke="currentColor"
                    stroke-width="2"
                    stroke-linecap="round"
                    stroke-linejoin="round"
                  />
                </svg>
              </button>
            </div>
          </div>
        </div>
      </ng-container>
    </div>
  </div>
</div>
